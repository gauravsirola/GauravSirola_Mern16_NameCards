<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    
    <title>Name Cards</title>
</head>
<body>
    <script>
        const url = 'https://jsonplaceholder.typicode.com/users'

        document.body.classList.add('bg-dark');
        const main_container = document.createElement('div');
        main_container.classList.add('d-flex', 'flex-row', 'm-2', 'flex-wrap')
        document.body.appendChild(main_container)
        const create_card = (name, address, mobile) => {
            const card_container = document.createElement('div');
            card_container.classList.add('card', 'bg-light', 'p-2', 'd-flex', 'flex-column', 'm-1', 'justify-content-center', "align-items-center")
            card_container.style.width = '16rem';

            const name_container = document.createElement('div');
            name_container.classList.add('card-title','border', 'border-primary', 'border-4', "d-flex", "justify-content-center", "align-items-center")
            name_init = name.split(' ')
            name_container.textContent = name_init[0][0] + name_init[1][0]
            name_container.style.height = '4rem';
            name_container.style.width = '4rem';
            name_container.style.borderRadius = "50%";

            const demo_container = document.createElement('div');
            demo_container.classList.add('d-flex', 'align-items-left', 'flex-column')
            const address_container = document.createElement('div');
            address_container.classList.add('card-text', 'text-start')
            address_container.innerHTML = "<strong>Address:</strong> " + address

            const mobile_container = document.createElement('div');
            mobile_container.classList.add('card-text', 'text-start')
            mobile_container.innerHTML = "<strong>Mobile:</strong> " + mobile

            demo_container.appendChild(address_container)
            demo_container.appendChild(mobile_container)

            card_container.appendChild(name_container)
            card_container.appendChild(demo_container)
            main_container.appendChild(card_container)
        }

        const fetchAPI = async(url) => {
            try {
                const response = await fetch(url);
                const data  = await response.json();
                useData(data);
            } catch(err) {
                console.log("Error: ", err)
            }
        }

        const useData = (api_data) => {
            for (let i = 0; i < api_data.length; i++){
                let name = api_data[i].name;
                let address = api_data[i].address.street + ', ' + api_data[i].address.suite + ', ' + api_data[i].address.city
                let mobile = api_data[i].phone
                create_card(name, address, mobile)
            }

        }

        fetchAPI(url);

    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>

    
</body>
</html>